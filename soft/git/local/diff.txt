====== Сравнение состояний ======

Команда ''git diff'' позволяет сравнивать два состояния проекта между собой. Команда выводит сравнение файлов в виде карты дельт (изменения, которые нужно внести в один файл, чтобы получить другой).

Пример:

  diff --git a/a.xml b/a.xml			# Сравнение файла a.xml
  index 57ceacd..c0417aa 100644
  --- a/a.xml					# минус - то, что есть в сравниваемом состоянии, но нет в текущем
  +++ b/a.xml					# плюс - то, что есть в текущем состоянии, но нет в сравниваемом
  @@ -1,9 +1,9 @@
   <?xml version="1.0" encoding="UTF-8"?>
   <!--
   Date create: 2014-09-04 19:43:48
  -Last change: 2014-09-04 19:43:53		# в сравниваемом состоянии записана эта строка
  +Last change: 2014-09-24 22:36:40		# а в текущем эта
   Author: Artur Sh. Mamedbekov (Artur-Mamedbekov@yandex.ru)
   -->
   <root>
  -    Hello world				# в сравниваемом состоянии эта строка
  +    Hello					# а в текущем эта
   </root>
  diff --git a/c.xml b/c.xml			# Сравнение файла c.xml
  new file mode 100644
  index 0000000..ea0acca
  --- /dev/null					# в сравниваемом состоянии этот файл отсутствует
  +++ b/c.xml
  @@ -0,0 +1,8 @@
  +<?xml version="1.0" encoding="UTF-8"?>
  +<!--
  +Date create: 2014-09-04 23:02:19
  +Last change: 2014-09-04 23:02:23
  +Author: Artur Sh. Mamedbekov (Artur-Mamedbekov@yandex.ru)
  +-->
  +<test>
  +</test>

В примере приведена карта дельт для двух файлов ''a.xml'' и ''c.xml''. Для получения этой карты была использована команда ''git diff ветка'', которая сравнила состояние репозитория текущей ветки (текущее состояние) с заданной (сравниваемое состояние). Описать эту карту дельт можно следующим образом:

^ Маркеры ^ Описание ^
| + | Есть в текущем состоянии, но нет в сравниваемом |
| - | Нет в текущем состоянии, но есть в сравниваемом |

Как видно, файл ''a.xml'' в текущем состоянии отличается от сравниваемого тем, что в нем текст тега ''%%<root>%%'' это ''Hello'', а не ''Hello world''. В текущем состоянии так же присутствует файл ''c.xml'', которого нет в сравниваемом.

Команда имеет следующие ключи:

  * ''%%git diff --name-only%%'' - выводится только список файлов, отличных в версиях
  * ''%%git diff --name-status%%'' - выводится только список файлов и статус их изменений, отличных в сравниваемых версиях

====== Отличие от индекса ======

Для просмотра различий между изменениями, не вошедшими в индекс и последним комитом используется команда ''git diff''.

Для просмотра изменений конкретного файла используется команда ''%%git diff -- адрес%%''.

====== Отличие индекса от комита ======

Для просмотра различий между индексом и последним комитом используется команда ''%%git diff --cache%%''.

Для просмотра изменений конкретного файла используется команда ''%%git diff --cache -- адрес%%''.

====== Несохраненные изменения ======

Для просмотра различий между текущим состоянием репозитория и последним комитом используется команда ''git diff HEAD''.

Для просмотра изменений конкретного файла используется команда ''%%git diff -- адрес%%''.

====== Различия между комитами ======

Для просмотра различий между двумя комитами используется команда ''git diff комитA комитB''.

Для просмотра изменений конкретного файла используется команда ''%%git diff комитA комитB -- адрес%%''.

====== Различия между ветками ======

Для просмотра различий между последними комитами текущей ветки и целевой используется команда ''git diff ветка''.

Для просмотра изменений конкретного файла используется команда ''%%git diff ветка -- адрес%%''.

~~DISQUS~~
