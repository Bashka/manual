====== Индексация ======

Индекс позволяет выделить файлы, которые будут добавлены в следующий комит. Индексация выполняется относительно текущего каталога, а не каталога проекта. Это позволяет добавить в индекс все файлы некоторого каталога без использования glob-шаблонов.

Для добавления измененного, или не находящегося на версионном контроле файла в индекс используется команда ''git add адрес''. В качестве адреса разрешено использовать glob-шаблоны, для выделения нескольких файлов. Если в качестве адреса файла использовать точку, будет добавлен весь текущий каталог с подкаталогами.

Пример:

  # Добавление в индекс всех тестов
  git add tests/Test*.cpp
  # Добавление в индекс всего каталога lib
  git add lib/

Команда имеет следующие ключи:

  * ''%%git add -v ...%%'' - вывод подробной информации о результатах индексации

  $> git add -v .
  add 'update.xml'
  add 'b.xml'
  add 'create.xml'

  * ''%%git add -u%%'' - добавить в индекс все файлы, находящиеся под версионным контролем (измененные, переименованные, удаленные)
  * ''%%git add -A ...%%'' - добавить в индекс все файлы, не вошедшие в индекс (новые, измененные, переименованные, удаленные)
  * ''%%git add -f ...%%'' - добавить в индекс игнорируемые (с помощью файла .gitignore) файлы
  * ''%%git add -i%%'' - запуск интерактивной оболочки, позволяющей работать с индексом

  $> git add -i
             staged     unstaged path
    1:        +8/-0      nothing b.xml
    2:       +10/-0      nothing create.xml
    3:    unchanged        +0/-9 delete.xml
    4:       +10/-0      nothing dir/a.xml
    5:        +8/-0      nothing dir/b.xml
    6:    unchanged       +0/-10 rename.xml
    7:       +10/-0      nothing rename2.xml
    8:        +2/-1      nothing update.xml
  
  *** Commands ***
    1: [s]tatus	  2: [u]pdate	  3: [r]evert	  4: [a]dd untracked
    5: [p]atch	  6: [d]iff	  7: [q]uit	  8: [h]elp
  What now>

  * ''%%git add --ignore-errors ...%%'' - игнорировать файлы, добавление в индекс которых невозможно
  * ''%%git add --patch ...%%'' - поочередно для всех файлов Git демонстрирует изменения (diff), предлагая выбрать дальнейшее действие (y - добавить в индекс; n - не добавлять в индекс; q - выход; ? - подсказка)

  $> git add --patch .
  diff --git a/delete.xml b/delete.xml
  index 1c127fb..0000000
  --- a/delete.xml
  +++ /dev/null
  deleted file mode 100644
  @@ -1,9 +0,0 @@
  -<?xml version="1.0" encoding="UTF-8"?>
  -<!--
  -Date Create: 2015-01-29 10:24:26
  -Last Change: 2015-08-07 19:35:35
  -Author: Artur Sh. Mamedbekov (Artur-Mamedbekov@yandex.ru)
  -License: GNU GPL v3 (http://www.gnu.org/copyleft/gpl.html)
  --->
  -<root>
  -</root>
  Stage deletion [y,n,q,a,d,/,?]?

  * ''%%git add --dry-run ...%%'' - индексация не выполняется, но утилита возвращает ту же информацию, что при нормальной работе ("холостой ход")

====== Отмена индексации ======

Для исключения файла из индекса, используется команда ''%%git reset -- адрес%%'' или ''git reset'', если необходимо отменить весь индекс.

~~DISQUS~~
