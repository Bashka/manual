====== Семантика ======

===== Collection =====

Интерфейс ''Collection'' описывает семантику базовых коллекций Doctrine и напонимает обычный массив PHP. Он наследует семантику следующих стандартных интерфейсов:

  * [[http://php.net/manual/ru/class.countable.php|Countable]]
  * [[http://php.net/manual/ru/class.iteratoraggregate.php|IteratorAggregate]]
  * [[http://php.net/manual/ru/class.arrayaccess.php|ArrayAccess]]

А так же включает следующие методы:

  * Изменение:
    * ''add'' - добавляет элемент в конец коллекции
    * ''set'' - устанавливает элемент в заданную позицию коллекции по ключу
    * ''filter'' - фильтрует коллекцию с помощью анонимной функции
    * ''map'' - применяет анонимную функцию ко всем элементам коллекции
    * ''partition'' - делит коллекцию на две части в зависимости от возврата анонимной функции
  * Получение:
    * ''get'' - получает элемент по ключу
    * ''getKeys'' - получает все ключи коллекции в виде массива
    * ''getValues'' - получает все элементы коллекции в виде массива
    * ''toArray'' - преобразует коллекцию в массив
    * ''first'' - предоставляет первый элемент коллекции
    * ''last'' - предоставляет последний элемент коллекции
    * ''key'' - предоставляет ключ текущего элемента
    * ''current'' - предоставляет текущий элемент
    * ''next'' - делает следующий элемент текущим
    * ''slice'' - получает срез коллекции
    * ''indexOf'' - получает ключ искомого элемента
  * Удаление:
    * ''removeElement'' - даляет элемент из коллекции
    * ''remove'' - удаляет элемент по ключу
    * ''clear'' - удаляет все элемнты коллекции
  * Проверка:
    * ''contains'' - проверяет наличие элемента в коллекции
    * ''isEmpty'' - проверяет, не пуста ли коллекция
    * ''containsKey'' - проверяет наличие ключа в коллекции
    * ''exists'' - проверяет наличие элемента с помощью анонимной функции
    * ''forAll'' - проверяет, справедлива ли данная анонимная функция для всех элементов коллекции

===== AbstractLazyCollection =====

Абстрактный класс ''AbstractLazyCollection'' представляет обертку над конкретным экземпляром ''Collection'', обеспечивающую "ленивую загрузку" данных в эту коллекцию при первом использовании.

===== Selectable =====

Коллекции, обеспечивающие фильтрацию и сортировку своих элементов с помощью [[.:criteria|Criteria]] должны реализовывать интерфейс ''Selectable'' и метод ''matching'', который возвращает результирующую коллекцию.

====== Реализация ======

===== ArrayCollection =====

Класс ''ArrayCollection'' реализует ''Collection'' и ''Selectable'' использует массив.

~~DISQUS~~
