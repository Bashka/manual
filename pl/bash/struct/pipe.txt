====== Потоки ======
Все внешние утилиты, функции и некоторые структуры в Bash могут использовать команды конвеера для перенаправления потоков ввода (strin или дескриптор 0), вывода (stdout или дескриптор 1) и ошибок (stderr или дескриптор 2). Для этого используются следующие конструкции:
  * ''`команда`'' - подстановка потока вывода на место вызова (команда имеет псевдоним ''$()'');
<code bash>
result=`ls` # Результат работы ls будет помещен в переменную result
result=$( ls ) # Аналог предыдущей команды
</code>
  * ''команда; команда'' - последовательное выполнение команд;
  * ''команда && команда'' - выполнение второй команды в случае успешного выполнения первой;
  * ''команда || команда'' - выполнение второй команды в случае невыполнения первой;
  * ''команда &'' - выполнение команды в фоновом режиме (при этом будет возвращен идентификатор процесса, выполняющего команду, который можно получить из переменной ''$!'');
  * ''команда & команда'' - одновременное выполнение двух команд;
  * ''(команда; команда)'' - объединение потоков вывода двух команд в один поток вывода;
  * ''команда | команда'' - перенаправление потока вывода первой команды в поток ввода второй;
  * ''команда дескриптор>файл'' - перенаправление потока дескриптора в файл;
  * ''команда дескриптор>&дескриптор'' - перенаправление потока дескриптора в поток дескриптора;
  * ''exec дескриптор>&-'' - закрыть дескриптор;
  * ''exec дескриптор<>файл'' - связать файл с дескриптором на ввод/вывод;
<code bash>
echo 'Hello' > test.txt
exec 3<>test.txt
read -n2 <&3 # Пропустить 2 символа
echo -n . >&3 # He.lo
exec 3>&- # Закрыть дескриптор
</code>
  * ''команда >файл'' - перенаправление потока вывода команды в файл (перезапись файла);
  * ''%%команда >>файл%%'' - перенаправление потока вывода команды в конец файла;
  * ''команда < файл'' - перенаправление содержимого файла в поток ввода команды;
  * ''%%команда <<строка%%'' - перенаправление содержимого файла команды от текущей позиции до вхождения указанной строки в поток ввода команды;
  * ''команда 2>файл'' - перенаправление потока вывода ошибок команды в файл;
  * ''команда 2>&1'' - перенаправление потока вывода ошибок команды в поток вывода команды;
  * ''команда 1>&2'' - перенаправление потока вывода команды в поток вывода ошибок команды;
  * ''команда &>файл'' - перенаправление потока вывода и потока ошибок в файл;
Потоки ввода, вывода и ошибок это специальные дескрипторы файлов с номерами 0, 1 и 2 соответственно.

Пример перенаправления потоков утилит:
<code bash>
ps | sort 2>&1 >result.db # Ошибки в вывод и в файл
</code>

Пример перенаправления потоков структуры ''for'':
<code bash>
for (( i = 10; $i >= 1; i-- )); do
  echo $i
done | sort > numbers.db
</code>

Пример перенаправления потоков структуры ''while'':
<code bash>
IFS="\n"
while read i; do # Построчное чтение потока ввода
  IFS=':'
  for j in $i; do # Пословное чтение каждой строки по разделителю
    echo -n $j
  done
  
  echo
  IFS="\n"
done < /etc/passwd # Содержимое файла в качестве потока ввода
</code>
<code bash>
IFS="\n"
# Помещение потока вывода цикла в переменную
result=$( cat /etc/passwd | while read i; do # Перенаправление прямо в цикл
  IFS=':'
  for j in $i; do
    echo -n $j
  done
  echo
  IFS="\n"
done )
</code>
