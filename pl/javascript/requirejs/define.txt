====== Правила загрузки ======
По умолчанию RequireJS загружает модули определяя целевой файл по имени модуля. Так, если модуль называется ''app/Module'', то ожидается что он содержится в файле ''requirejs.config.baseUrl/app/Module.js''.

Для объявления модуля используется следующая функция:

<code javascript>
define(имяМодуля, зависимости, модуль);
</code>

При этом, если имя модуля не отличается от имени файла, в котором он содержится, то этот параметр можно опустить. Аналогично можно не указывать зависимости модуля, если их нет.

====== Модуль-объект ======
Если в качестве модуля выступает объект, его можно объявить следующим образом:

<code javascript>
define({
  ...
});
</code>

====== Модуль-функция ======
Если перед объявлением модуля необходимо выполнить некоторый JS код, то используется следующая конструкция:

<code javascript>
define(function(){
  ...
  return module;
});
</code>

Здесь модулем выступает то, что возвращается функцией, передаваемой в ''define''.

====== AMD-формат ======
RequireJS позволяет объявлять модули в AMD формате. Для этого используется следующая конструкция:

<code javascript>
define(function(require, exports, module){
  ...
});
</code>

Здесь модулем выступает объект ''exports'', но если функция возвращает некоторое значение, оно будет использовано вместо этого объекта.

Этот подход делает объявление модуля с большим числом зависимостей проще и понятнее.

Аналогичный результат можно получить и с помощью следующей конструкции:

<code javascript>
define(['requirejs'], function(require, exports, module){
  ...
});
</code>

Здесь массив зависимостей может быть расширен, при этом в качестве экспортируемых данных метода будет выступать возвращаемые функцией значения, главное передать в качестве первого параметра сам RequireJS.

====== Имя модуля ======
Если имя модуля отличается от имени файла, в котором он содержится, используется следующая конструкция:

<file javascript myModule.js>
define('MyModule', {
  ...
});
</file>

Но для того, чтобы RequireJS мог найти этот модуль в файловой системе (если он еще не был включен в проект), необходимо правильно прописать его псевдоним в ''requirejs.config.paths''.

====== Зависимости ======
Если модуль зависит от других модулей, список зависимостей должен быть перечислен в виде массива:

<code javascript>
define(['jquery'], function($){
  // Здесь библиотека JQuery доступна в виде переменной $.
  ...
});
</code>

Зависимые модули могут быть объявлены только в виде функции, которая принимает в качестве аргументов используемые объекты.

Зависимости модуля в остальном подключаются по тем же правилам, что и при использовании функции [[.:require|requirejs]]. 

Здесь так же можно указать имя модуля передав его первым параметром:

<code javascript>
define('MyModule', ['jquery'], function($){
  ...
});
</code>

====== Пример ======
Формат RequireJS:
<code javascript>
define('app', ['jquery'], function($){
  return {
    sayHello: function(){
      $('body').html('Hello world');
    }
  };
});

requirejs(['app'], function(app){
  app.sayHello();
});
</code>

AMD формат:
<code javascript>
define(function(require, exports, module){
  var $ = require('jquery');

  exports.sayHello = function(){
    $('body').html('Hello world');
  }
});

requirejs(['app'], function(app){
  app.sayHello();
});
</code>

~~DISQUS~~
